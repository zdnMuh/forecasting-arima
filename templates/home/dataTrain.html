{% extends "layouts/base.html" %}

{% block title %} {{ request.endpoint.split('.')[-1].capitalize() }} {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <main>
        <div class="container-fluid px-4">
            <h1 class="mt-4" style="font-family: 'Tahoma'">Data Train</h1>
            <div class="row">
                <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
                    <form method="post" action="{{ url_for('train') }}" class="me-md-2">
                        <div class="form-group">
                            <div class="row align-items-end">
                                <div class="col-auto">
                                    <select class="form-select" aria-label="Default select example" name="coba">
                                        <option selected>Choose</option>
                                        <option value="2">1</option>
                                        <option value="4">3</option>
                                        <option value="8">7</option>
                                    </select>
                                </div>
                                <div class="col-auto">
                                    <button class="btn btn-success" type="submit">Pre-Processing</button>
                                </div>
                            </div>
                        </div>
                    </form>

                    <form method="post" action="{{ url_for('deleteAllTrain') }}" onsubmit="return confirm('Apakah Anda yakin ingin menghapus semua data?');" class="me-md-2">
                        <button type="submit" class="btn btn-danger">Delete All</button>
                    </form>

                    <div class="btn-group me-md-2">
                        <button type="button" class="btn btn-sm btn-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            Action
                        </button>
                        <div class="dropdown-menu dropdown-menu-sm">
                            <a class="dropdown-item" href="{{ url_for('scraping') }}">Crawling Data</a>
                            <a class="dropdown-item" href="{{ url_for('upload') }}">Import Data</a>
                        </div>
                    </div>
                </div>
            <div class="col-12">
                <div class="card-mb4">
                    <div class="card-header">
                        <i class="fas fa-table me-1"></i>
                        DataTable Example
                    </div>
                    <div class="card-body">
                        <table class="table" id="datatablesSimple">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Open</th>
                                <th>High</th>
                                <th>Low</th>
                                <th>Close</th>
                                <th>Adj Close</th>
                                <th>Volume</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in value %}
                                <tr>
                                    <td>{{ item.Date }}</td>
                                    <td>{{ item.Open }}</td>
                                    <td>{{ item.High }}</td>
                                    <td>{{ item.Low }}</td>
                                    <td>{{ item.Close }}</td>
                                    <td>{{ item.Adj }}</td>
                                    <td>{{ item.Volume }}</td>
{#                                    <td>{{ "{:,.0f}".format(item.Open) }}</td>#}
{#                                    <td>{{ "{:,.0f}".format(item.High) }}</td>#}
{#                                    <td>{{ "{:,.0f}".format(item.Low) }}</td>#}
{#                                    <td>{{ "{:,.0f}".format(item.Close) }}</td>#}
{#                                    <td>{{ "{:,.0f}".format(item.Adj) }}</td>#}
{#                                    <td>{{ "{:,.0f}".format(item.Volume) }}</td>#}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </main>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='demo/chart-area-demo.js') }}"></script>
    <script src="{{ url_for('static', filename='demo/chart-bar-demo.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/datatables-simple.js') }}"></script>

{% endblock javascripts %}
